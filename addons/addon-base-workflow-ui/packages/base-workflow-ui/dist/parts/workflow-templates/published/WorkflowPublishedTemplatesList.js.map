{"version":3,"sources":["../../../../src/parts/workflow-templates/published/WorkflowPublishedTemplatesList.js"],"names":["React","observer","inject","withRouter","Header","Icon","Segment","createLink","swallowError","ErrorBox","isStoreLoading","isStoreReady","isStoreEmpty","isStoreNotEmpty","isStoreError","WorkflowTemplateCard","ProgressPlaceHolder","WorkflowPublishedTemplatesList","Component","componentDidMount","store","getStore","load","startHeartbeat","componentWillUnmount","stopHeartbeat","props","workflowTemplatesStore","goto","pathname","location","link","history","push","render","content","error","renderEmpty","renderMain","renderTitle","list","map","template","id"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { withRouter } from 'react-router-dom';\nimport { Header, Icon, Segment } from 'semantic-ui-react';\nimport { createLink } from '@aws-ee/base-ui/dist/helpers/routing';\nimport { swallowError } from '@aws-ee/base-ui/dist/helpers/utils';\nimport ErrorBox from '@aws-ee/base-ui/dist/parts/helpers/ErrorBox';\nimport {\n  isStoreLoading,\n  isStoreReady,\n  isStoreEmpty,\n  isStoreNotEmpty,\n  isStoreError,\n} from '@aws-ee/base-ui/dist/models/BaseStore';\n\nimport WorkflowTemplateCard from '../WorkflowTemplateCard';\nimport ProgressPlaceHolder from '../../workflow-common/ProgressPlaceholder';\n\n// expected props\n// - workflowTemplatesStore (via injection)\n// - location (from react router)\nclass WorkflowPublishedTemplatesList extends React.Component {\n  componentDidMount() {\n    const store = this.getStore();\n    swallowError(store.load());\n    store.startHeartbeat();\n  }\n\n  componentWillUnmount() {\n    const store = this.getStore();\n    store.stopHeartbeat();\n  }\n\n  getStore() {\n    return this.props.workflowTemplatesStore;\n  }\n\n  goto(pathname) {\n    const location = this.props.location;\n    const link = createLink({ location, pathname });\n\n    this.props.history.push(link);\n  }\n\n  render() {\n    const store = this.getStore();\n    let content = null;\n\n    if (isStoreError(store)) {\n      content = <ErrorBox error={store.error} className=\"p0\" />;\n    } else if (isStoreLoading(store)) {\n      content = <ProgressPlaceHolder segmentCount={3} />;\n    } else if (isStoreReady(store) && isStoreEmpty(store)) {\n      content = this.renderEmpty();\n    } else if (isStoreReady(store) && isStoreNotEmpty(store)) {\n      content = this.renderMain();\n    } else {\n      content = null;\n    }\n\n    return (\n      <div className=\"mb4\">\n        {this.renderTitle()}\n        {content}\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <Segment placeholder>\n        <Header icon className=\"color-grey\">\n          <Icon name=\"clipboard outline\" />\n          No published workflow templates\n          <Header.Subheader>\n            To create a workflow template, start by creating a draft and then publish the draft.\n          </Header.Subheader>\n        </Header>\n      </Segment>\n    );\n  }\n\n  renderTitle() {\n    return (\n      <div className=\"mb3 flex\">\n        <Header as=\"h3\" className=\"color-grey mt1 mb0 flex-auto\">\n          <Icon name=\"list alternate outline\" className=\"align-top\" />\n          <Header.Content className=\"left-align\">Published Workflow Templates</Header.Content>\n        </Header>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const store = this.getStore();\n    const list = store.list;\n\n    return (\n      <div>\n        {list.map(template => (\n          <Segment className=\"p3 mb2\" clearing key={template.id}>\n            <WorkflowTemplateCard template={template} />\n          </Segment>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default inject('workflowTemplatesStore')(withRouter(observer(WorkflowPublishedTemplatesList)));\n"],"file":"WorkflowPublishedTemplatesList.js"}