{"version":3,"sources":["../../../src/parts/workflow-templates/WorkflowTemplateStep.js"],"names":["React","observer","inject","decorate","runInAction","action","observable","withRouter","Accordion","Icon","Divider","PropertySection","ConfigSection","WorkflowTemplateStep","Component","constructor","props","handleOnExpand","expanded","getWorkflowTemplateStep","step","getStepTemplate","stepTemplate","render","marginTop","derivedTitle","title","templateId","templateVer","renderDescriptionSection","renderConfigurationSection","renderPropertiesSection","__html","descHtml"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { decorate, runInAction, action, observable } from 'mobx';\nimport { withRouter } from 'react-router-dom';\nimport { Accordion, Icon, Divider } from 'semantic-ui-react';\n\nimport PropertySection from './PropertySection';\nimport ConfigSection from './ConfigSection';\n\n// expected props\n// - step - an instance of WorkflowTemplateStep model (via props)\n// - location (from react router)\nclass WorkflowTemplateStep extends React.Component {\n  constructor(props) {\n    super(props);\n    runInAction(() => {\n      this.expanded = false;\n    });\n  }\n\n  getWorkflowTemplateStep() {\n    return this.props.step;\n  }\n\n  getStepTemplate() {\n    return this.getWorkflowTemplateStep().stepTemplate;\n  }\n\n  handleOnExpand = () => {\n    this.expanded = !this.expanded;\n  };\n\n  render() {\n    const step = this.getWorkflowTemplateStep();\n    const expanded = this.expanded;\n    return (\n      <Accordion className=\"flex-auto overflow-hidden pr1\">\n        <Accordion.Title active={expanded} index={0} onClick={this.handleOnExpand}>\n          <div className=\"flex mt1 mb1\">\n            <Icon name=\"dropdown\" className=\"inline-block\" style={{ marginTop: '3px' }} />\n            <div className=\"ellipsis flex-auto\">{step.derivedTitle || step.title}</div>\n            <div className=\"ellipsis pl1 pr1 breakout fs-9 color-grey\">\n              {step.templateId} v{step.templateVer}\n            </div>\n          </div>\n        </Accordion.Title>\n        <Accordion.Content active={expanded} className=\"animated pt3 pl2 pr2 pb2 mb2\">\n          {this.renderDescriptionSection(step)}\n          {this.renderConfigurationSection(step)}\n          {this.renderPropertiesSection(step)}\n        </Accordion.Content>\n      </Accordion>\n    );\n  }\n\n  renderDescriptionSection(step) {\n    /* eslint-disable react/no-danger */\n    return (\n      <>\n        <Icon name=\"file alternate outline\" className=\"mr1 color-grey\" />\n        <b>Description</b>\n        <Divider className=\"mt1\" />\n        <div className=\"mb4\" dangerouslySetInnerHTML={{ __html: step.descHtml }} />\n      </>\n    );\n    /* eslint-enable react/no-danger */\n  }\n\n  renderConfigurationSection(step) {\n    return (\n      <div className=\"mb4\">\n        <Icon name=\"cog\" className=\"mr1 color-grey\" />\n        <b>Configuration</b>\n        <Divider className=\"mt1 mb3\" />\n        <ConfigSection model={step} />\n      </div>\n    );\n  }\n\n  renderPropertiesSection(step) {\n    return (\n      <>\n        <Icon name=\"list alternate outline\" className=\"mr1 color-grey\" />\n        <b>Properties</b>\n        <Divider className=\"mt1 mb3\" />\n        <PropertySection model={step} />\n      </>\n    );\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(WorkflowTemplateStep, {\n  expanded: observable,\n  handleOnExpand: action,\n});\n\nexport default inject()(withRouter(observer(WorkflowTemplateStep)));\n"],"file":"WorkflowTemplateStep.js"}