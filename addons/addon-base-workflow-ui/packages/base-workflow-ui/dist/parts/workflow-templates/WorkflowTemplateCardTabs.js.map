{"version":3,"sources":["../../../src/parts/workflow-templates/WorkflowTemplateCardTabs.js"],"names":["_","React","observer","inject","Observer","decorate","action","Tab","Grid","Label","Segment","PropertySection","WorkflowTemplateStep","WorkflowTemplateCardTabs","Component","handleOnTabChange","_event","data","getState","setMainTabIndex","activeIndex","props","uiState","selectedMainTabIndex","mainTabIndex","getTemplate","template","render","className","panes","menuItem","__html","descHtml","renderSteps","secondary","pointing","steps","selectedSteps","length","map","step","index"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport React from 'react';\nimport { observer, inject, Observer } from 'mobx-react';\nimport { decorate, action } from 'mobx';\nimport { Tab, Grid, Label, Segment } from 'semantic-ui-react';\n\nimport PropertySection from './PropertySection';\n\nimport WorkflowTemplateStep from './WorkflowTemplateStep';\n\n// expected props\n// - template - either a WorkflowTemplateVersion model instance (via props)\n// - uiState - to keep track of the active tab (via props)\n// - className (via props)\nclass WorkflowTemplateCardTabs extends React.Component {\n  getState() {\n    return this.props.uiState;\n  }\n\n  selectedMainTabIndex() {\n    return this.getState().mainTabIndex;\n  }\n\n  getTemplate() {\n    return this.props.template;\n  }\n\n  handleOnTabChange = (_event, data) => {\n    this.getState().setMainTabIndex(data.activeIndex);\n  };\n\n  render() {\n    const className = this.props.className || 'mt0';\n    const template = this.getTemplate();\n\n    const activeIndex = this.selectedMainTabIndex();\n    /* eslint-disable react/no-danger */\n    const panes = [\n      {\n        menuItem: 'Description',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <Observer>\n              {() => <div className=\"animated\" dangerouslySetInnerHTML={{ __html: template.descHtml }} />}\n            </Observer>\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Steps',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <Observer>{() => this.renderSteps(template)}</Observer>\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Properties',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <PropertySection model={template} />\n          </Tab.Pane>\n        ),\n      },\n    ];\n    /* eslint-enable react/no-danger */\n\n    return (\n      <Tab\n        className={className}\n        activeIndex={activeIndex}\n        menu={{ secondary: true, pointing: true }}\n        panes={panes}\n        onTabChange={this.handleOnTabChange}\n      />\n    );\n  }\n\n  renderSteps(template) {\n    const steps = template.selectedSteps || [];\n\n    if (steps.length === 0) {\n      return <span>No steps are provided</span>;\n    }\n\n    return (\n      <Grid padded={false} className=\"animated\">\n        {_.map(steps, (step, index) => (\n          <Grid.Row key={index} className=\"pb0\">\n            <Grid.Column width={1}>\n              <Label circular className=\"mt1 mb1\">\n                {index + 1}\n              </Label>\n            </Grid.Column>\n            <Grid.Column width={15}>\n              <Segment className=\"p0 pl1 flex\">\n                <WorkflowTemplateStep step={step} />\n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n        ))}\n      </Grid>\n    );\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(WorkflowTemplateCardTabs, {\n  handleOnTabChange: action,\n});\n\nexport default inject()(observer(WorkflowTemplateCardTabs));\n"],"file":"WorkflowTemplateCardTabs.js"}