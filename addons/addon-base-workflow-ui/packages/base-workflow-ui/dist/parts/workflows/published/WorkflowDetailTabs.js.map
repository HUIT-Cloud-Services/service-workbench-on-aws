{"version":3,"sources":["../../../../src/parts/workflows/published/WorkflowDetailTabs.js"],"names":["_","React","observer","inject","Observer","decorate","action","Tab","Grid","Label","Segment","PropertySection","WorkflowTemplateStep","WorkflowInstancesList","WorkflowAssignmentsList","WorkflowDetailTabs","Component","handleTabChange","event","data","getState","setMainTabIndex","activeIndex","props","uiState","selectedMainTabIndex","mainTabIndex","getVersion","workflow","render","className","id","v","panes","menuItem","renderSteps","secondary","pointing","steps","selectedSteps","length","map","step","index"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport React from 'react';\nimport { observer, inject, Observer } from 'mobx-react';\nimport { decorate, action } from 'mobx';\nimport { Tab, Grid, Label, Segment } from 'semantic-ui-react';\n\nimport PropertySection from '../../workflow-templates/PropertySection';\nimport WorkflowTemplateStep from '../../workflow-templates/WorkflowTemplateStep';\nimport WorkflowInstancesList from './WorkflowInstancesList';\nimport WorkflowAssignmentsList from './WorkflowAssignmentsList';\n\n// expected props\n// - workflow - either a WorkflowVersion model instance (via props)\n// - uiState - to keep track of the active tab (via props)\n// - className (via props)\nclass WorkflowDetailTabs extends React.Component {\n  getState() {\n    return this.props.uiState;\n  }\n\n  selectedMainTabIndex() {\n    return this.getState().mainTabIndex;\n  }\n\n  getVersion() {\n    return this.props.workflow;\n  }\n\n  handleTabChange = (event, data) => {\n    this.getState().setMainTabIndex(data.activeIndex);\n  };\n\n  render() {\n    const className = this.props.className || 'mt0';\n    const workflow = this.getVersion();\n    const id = workflow.id;\n    const v = workflow.v;\n\n    const activeIndex = this.selectedMainTabIndex();\n    const panes = [\n      {\n        menuItem: 'Instances',\n        render: () => (\n          <Tab.Pane basic attached={false} className=\"mt0 pt0\">\n            <WorkflowInstancesList workflowVersion={workflow} id={id} v={v} />\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Assignment',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <WorkflowAssignmentsList workflowVersion={workflow} />\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Steps',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <Observer>{() => this.renderSteps(workflow)}</Observer>\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Properties',\n        render: () => (\n          <Tab.Pane basic attached={false}>\n            <PropertySection model={workflow} />\n          </Tab.Pane>\n        ),\n      },\n    ];\n\n    return (\n      <Tab\n        className={className}\n        activeIndex={activeIndex}\n        menu={{ secondary: true, pointing: true }}\n        panes={panes}\n        onTabChange={this.handleTabChange}\n      />\n    );\n  }\n\n  renderSteps(workflow) {\n    const steps = workflow.selectedSteps || [];\n\n    if (steps.length === 0) {\n      return <span>No steps are provided</span>;\n    }\n\n    return (\n      <Grid padded={false} className=\"animated\">\n        {_.map(steps, (step, index) => (\n          <Grid.Row key={index} className=\"pb0\">\n            <Grid.Column width={1}>\n              <Label circular className=\"mt1 mb1\">\n                {index + 1}\n              </Label>\n            </Grid.Column>\n            <Grid.Column width={15}>\n              <Segment className=\"p0 pl1 flex\">\n                <WorkflowTemplateStep step={step} />\n              </Segment>\n            </Grid.Column>\n          </Grid.Row>\n        ))}\n      </Grid>\n    );\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(WorkflowDetailTabs, {\n  handleTabChange: action,\n});\n\nexport default inject()(observer(WorkflowDetailTabs));\n"],"file":"WorkflowDetailTabs.js"}