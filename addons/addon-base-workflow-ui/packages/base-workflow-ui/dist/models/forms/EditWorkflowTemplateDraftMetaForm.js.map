{"version":3,"sources":["../../../src/models/forms/EditWorkflowTemplateDraftMetaForm.js"],"names":["_","createForm","editWorkflowTemplateDraftMetaFields","templateVersion","title","desc","instanceTtl","runSpec","propertyOverrideSummaryRows","result","name","label","placeholder","extra","explain","value","rules","options","text","size","target","propsOverrideFields","map","title_","allowed","default","getEditWorkflowTemplateDraftMetaForm","template","fields"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport { createForm } from '@aws-ee/base-ui/dist/helpers/form';\n\nconst editWorkflowTemplateDraftMetaFields = templateVersion => {\n  const { title = '', desc = '', instanceTtl, runSpec = {}, propertyOverrideSummaryRows = [] } = templateVersion;\n  const result = [\n    {\n      name: 'templateTitle',\n      label: 'Workflow Template Title',\n      placeholder: 'Type a title for the workflow template',\n      extra: {\n        explain: `This is a required field and the number of characters must be between 3 and 255.\n      The title is shown in many places in the UI.`,\n      },\n      value: title,\n      rules: 'required|string|between:3,255',\n    },\n\n    {\n      name: 'templateDesc',\n      label: 'Workflow Template Description',\n      placeholder: 'Type a description for the workflow template',\n      extra: {\n        explain: `The description can be written in markdown but must be between 3 and 4000 characters.`,\n      },\n      value: desc,\n      rules: 'required|string|between:3,4000',\n    },\n\n    {\n      name: 'instanceTtl',\n      label: 'Time to Live (TTL) for instances of the workflow',\n      placeholder: 'Type the number of days',\n      extra: {\n        explain: `The number of days for which a record of a workflow instance is kept in the database.\n      Leave it empty or type -1 if you don't want to have a time limit on the record.`,\n      },\n      value: instanceTtl,\n      rules: 'integer',\n    },\n\n    {\n      name: 'runSpecSize',\n      label: 'Runtime lambda size',\n      extra: {\n        options: [\n          {\n            value: 'small',\n            text: 'Small',\n          },\n          {\n            value: 'medium',\n            text: 'Medium',\n          },\n          {\n            value: 'large',\n            text: 'Large',\n          },\n        ],\n      },\n      value: runSpec.size || 'small',\n      rules: 'required|in:small,medium,large',\n    },\n\n    {\n      name: 'runSpecTarget',\n      label: 'Runtime target',\n      extra: {\n        options: [\n          {\n            value: 'stepFunctions',\n            text: 'Step Functions',\n          },\n          {\n            value: 'workerLambda',\n            text: 'Worker Lambda',\n          },\n          {\n            value: 'inPlace',\n            text: 'In Place',\n          },\n        ],\n      },\n      value: runSpec.target || 'stepFunctions',\n      rules: 'required|in:stepFunctions,workerLambda,inPlace',\n    },\n  ];\n\n  const propsOverrideFields = _.map(propertyOverrideSummaryRows, ({ name, title_, allowed = false }) => ({\n    name: `propsOverride_${name}`,\n    label: title_,\n    value: allowed,\n    default: allowed,\n  }));\n\n  return [...result, ...propsOverrideFields];\n};\n\nfunction getEditWorkflowTemplateDraftMetaForm(template) {\n  const fields = editWorkflowTemplateDraftMetaFields(template);\n\n  return createForm(fields);\n}\n\nexport default getEditWorkflowTemplateDraftMetaForm;\n"],"file":"EditWorkflowTemplateDraftMetaForm.js"}