{"version":3,"sources":["../../../../src/parts/helpers/CfnStackOutputContainer/index.js"],"names":["CfnStackOutputContainer","props","describeCfnStack","state","isStackExecuting","clearInterval","timer","setState","cfn","describeStack","stackName","results","outputs","JSON","stringify","isDone","errorMessage","setInterval","PureComponent","propTypes","PropTypes","string","isRequired","object"],"mappings":";;;;;;;;;AAeA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,uB;;;;;AACnB,mCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AADiB,UAiBnBC,gBAjBmB,wEAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACb,MAAKC,KAAL,CAAWC,gBAAX,KAAgC,KADnB;AAAA;AAAA;AAAA;;AAEfC,cAAAA,aAAa,CAAC,MAAKC,KAAN,CAAb;AAFe;;AAAA;AAKjB,oBAAKC,QAAL,CAAc;AACZH,gBAAAA,gBAAgB,EAAE;AADN,eAAd;;AALiB;AAAA,qBAQK,MAAKH,KAAL,CAAWO,GAAX,CAAeC,aAAf,CAA6B,MAAKR,KAAL,CAAWS,SAAxC,CARL;;AAAA;AAQXC,cAAAA,OARW;;AAUjB,oBAAKJ,QAAL,CAAc;AACZ;AACAK,gBAAAA,OAAO,+BAAM,MAAKT,KAAL,CAAWS,OAAjB,IAA0BC,IAAI,CAACC,SAAL,CAAeH,OAAf,CAA1B,EAFK;AAGZP,gBAAAA,gBAAgB,EAAE,CAACO,OAAO,CAACI;AAHf,eAAd;;AAViB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjBA;AAEjB,UAAKZ,KAAL,GAAa;AACXC,MAAAA,gBAAgB,EAAE,IADP;AAEXY,MAAAA,YAAY,EAAE,EAFH;AAGXJ,MAAAA,OAAO,EAAE;AAHE,KAAb;AAFiB;AAOlB;;;;wCAEmB;AAClB,WAAKN,KAAL,GAAaW,WAAW,CAAC,KAAKf,gBAAN,EAAwB,KAAxB,CAAxB;AACD;;;2CAEsB;AACrBG,MAAAA,aAAa,CAAC,KAAKC,KAAN,CAAb;AACD;;;6BAmBQ;AACP,0BAAO,gCAAC,0BAAD,EAAoB,KAAKH,KAAzB,CAAP;AACD;;;;EArCkDe,oB;;;AAuCrDlB,uBAAuB,CAACmB,SAAxB,GAAoC;AAClCT,EAAAA,SAAS,EAAEU,sBAAUC,MAAV,CAAiBC,UADM;AAElC;AACAd,EAAAA,GAAG,EAAEY,sBAAUG,MAAV,CAAiBD;AAHY,CAApC","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport CfnStackOutput from './CfnStackOutput';\n\nexport default class CfnStackOutputContainer extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isStackExecuting: true,\n      errorMessage: '',\n      outputs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(this.describeCfnStack, 15000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  describeCfnStack = async () => {\n    if (this.state.isStackExecuting === false) {\n      clearInterval(this.timer);\n      return;\n    }\n    this.setState({\n      isStackExecuting: true,\n    });\n    const results = await this.props.cfn.describeStack(this.props.stackName);\n\n    this.setState({\n      // eslint-disable-next-line react/no-access-state-in-setstate\n      outputs: [...this.state.outputs, JSON.stringify(results)],\n      isStackExecuting: !results.isDone,\n    });\n  };\n\n  render() {\n    return <CfnStackOutput {...this.state} />;\n  }\n}\nCfnStackOutputContainer.propTypes = {\n  stackName: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  cfn: PropTypes.object.isRequired,\n};\n"],"file":"index.js"}