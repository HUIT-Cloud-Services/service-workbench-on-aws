{"version":3,"sources":["../../../../src/parts/data-sources/register/RegisterStudy.js"],"names":["RegisterStudy","props","stores","Stores","accountsStore","usersStore","window","scrollTo","load","content","hasError","error","loading","ready","renderMain","renderTitle","wizard","isStartStep","isInputStep","isSubmitStep","isCfnStep","dataSourceAccountsStore","registerStudyWizard","React","Component","computed"],"mappings":";;;;;;;;;AAeA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;IACMA,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,2BAAY,YAAM;AAChB,YAAKC,MAAL,GAAc,IAAIC,kBAAJ,CAAW,CAAC,MAAKC,aAAN,EAAqB,MAAKC,UAA1B,CAAX,CAAd;AACD,KAFD;AAFiB;AAKlB;;;;wCAEmB;AAClBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,+BAAa,KAAKL,MAAL,CAAYM,IAAZ,EAAb;AACD;;;6BAcQ;AACP,UAAMN,MAAM,GAAG,KAAKA,MAApB;AAEA,UAAIO,OAAO,GAAG,IAAd;;AACA,UAAIP,MAAM,CAACQ,QAAX,EAAqB;AACnBD,QAAAA,OAAO,gBAAG,gCAAC,oBAAD;AAAU,UAAA,KAAK,EAAEP,MAAM,CAACS,KAAxB;AAA+B,UAAA,SAAS,EAAC;AAAzC,UAAV;AACD,OAFD,MAEO,IAAIT,MAAM,CAACU,OAAX,EAAoB;AACzBH,QAAAA,OAAO,gBAAG,gCAAC,oCAAD;AAAqB,UAAA,YAAY,EAAE;AAAnC,UAAV;AACD,OAFM,MAEA,IAAIP,MAAM,CAACW,KAAX,EAAkB;AACvBJ,QAAAA,OAAO,GAAG,KAAKK,UAAL,EAAV;AACD,OAFM,MAEA;AACLL,QAAAA,OAAO,GAAG,IAAV;AACD;;AAED,0BACE,gCAAC,0BAAD;AAAW,QAAA,SAAS,EAAC;AAArB,SACG,KAAKM,WAAL,EADH,EAEGN,OAFH,CADF;AAMD;;;iCAEY;AACX,UAAMO,MAAM,GAAG,KAAKA,MAApB;AACA,UAAIA,MAAM,CAACC,WAAX,EAAwB,oBAAO,gCAAC,qBAAD;AAAW,QAAA,MAAM,EAAED;AAAnB,QAAP;AACxB,UAAIA,MAAM,CAACE,WAAX,EAAwB,oBAAO,gCAAC,qBAAD;AAAW,QAAA,MAAM,EAAEF;AAAnB,QAAP;AACxB,UAAIA,MAAM,CAACG,YAAX,EAAyB,oBAAO,gCAAC,sBAAD;AAAY,QAAA,MAAM,EAAEH;AAApB,QAAP;AACzB,UAAIA,MAAM,CAACI,SAAX,EAAsB,oBAAO,gCAAC,mBAAD;AAAS,QAAA,MAAM,EAAEJ;AAAjB,QAAP;AAEtB,aAAO,IAAP;AACD;;;kCAEa;AACZ,0BACE,gCAAC,uBAAD;AAAQ,QAAA,EAAE,EAAC,IAAX;AAAgB,QAAA,SAAS,EAAC;AAA1B,sBACE,gCAAC,qBAAD;AAAM,QAAA,IAAI,EAAC,UAAX;AAAsB,QAAA,SAAS,EAAC;AAAhC,QADF,eAEE,gCAAC,uBAAD,CAAQ,OAAR;AAAgB,QAAA,SAAS,EAAC;AAA1B,wBAFF,CADF;AAMD;;;wBAnDmB;AAClB,aAAO,KAAKf,KAAL,CAAWoB,uBAAlB;AACD;;;wBAEgB;AACf,aAAO,KAAKpB,KAAL,CAAWI,UAAlB;AACD;;;wBAEY;AACX,aAAO,KAAKJ,KAAL,CAAWqB,mBAAlB;AACD;;;;EAvByBC,kBAAMC,S,GAmElC;;;AACA,oBAASxB,aAAT,EAAwB;AACtBK,EAAAA,UAAU,EAAEoB,cADU;AAEtBrB,EAAAA,aAAa,EAAEqB,cAFO;AAGtBT,EAAAA,MAAM,EAAES;AAHc,CAAxB;;eAMe,uBACb,yBADa,EAEb,YAFa,EAGb,qBAHa,EAIb,gCAAW,yBAASzB,aAAT,CAAX,CAJa,C","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { decorate, computed, runInAction } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport { withRouter } from 'react-router-dom';\nimport { Container, Header, Icon } from 'semantic-ui-react';\n\nimport Stores from '@aws-ee/base-ui/dist/models/Stores';\nimport { swallowError } from '@aws-ee/base-ui/dist/helpers/utils';\nimport ErrorBox from '@aws-ee/base-ui/dist/parts/helpers/ErrorBox';\nimport ProgressPlaceHolder from '@aws-ee/base-ui/dist/parts/helpers/BasicProgressPlaceholder';\n\nimport InputStep from './InputStep';\nimport SubmitStep from './SubmitStep';\nimport CfnStep from './CfnStep';\nimport StartStep from './StartStep';\n\n// expected props\n// - dataSourceAccountsStore (via injection)\nclass RegisterStudy extends React.Component {\n  constructor(props) {\n    super(props);\n    runInAction(() => {\n      this.stores = new Stores([this.accountsStore, this.usersStore]);\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    swallowError(this.stores.load());\n  }\n\n  get accountsStore() {\n    return this.props.dataSourceAccountsStore;\n  }\n\n  get usersStore() {\n    return this.props.usersStore;\n  }\n\n  get wizard() {\n    return this.props.registerStudyWizard;\n  }\n\n  render() {\n    const stores = this.stores;\n\n    let content = null;\n    if (stores.hasError) {\n      content = <ErrorBox error={stores.error} className=\"p0\" />;\n    } else if (stores.loading) {\n      content = <ProgressPlaceHolder segmentCount={1} />;\n    } else if (stores.ready) {\n      content = this.renderMain();\n    } else {\n      content = null;\n    }\n\n    return (\n      <Container className=\"mt3 animated fadeIn\">\n        {this.renderTitle()}\n        {content}\n      </Container>\n    );\n  }\n\n  renderMain() {\n    const wizard = this.wizard;\n    if (wizard.isStartStep) return <StartStep wizard={wizard} />;\n    if (wizard.isInputStep) return <InputStep wizard={wizard} />;\n    if (wizard.isSubmitStep) return <SubmitStep wizard={wizard} />;\n    if (wizard.isCfnStep) return <CfnStep wizard={wizard} />;\n\n    return null;\n  }\n\n  renderTitle() {\n    return (\n      <Header as=\"h3\" className=\"color-grey mt1 mb3\">\n        <Icon name=\"database\" className=\"align-top\" />\n        <Header.Content className=\"left-align\">Data Sources</Header.Content>\n      </Header>\n    );\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(RegisterStudy, {\n  usersStore: computed,\n  accountsStore: computed,\n  wizard: computed,\n});\n\nexport default inject(\n  'dataSourceAccountsStore',\n  'usersStore',\n  'registerStudyWizard',\n)(withRouter(observer(RegisterStudy)));\n"],"file":"RegisterStudy.js"}