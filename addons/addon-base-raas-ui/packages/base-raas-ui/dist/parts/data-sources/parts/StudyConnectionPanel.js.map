{"version":3,"sources":["../../../../src/parts/data-sources/parts/StudyConnectionPanel.js"],"names":["StudyConnectionPanel","handleCancel","_","isFunction","props","onCancel","renderError","renderProcessing","renderMessage","operation","processing","hasError","error","study","progress","React","Component","computed","action"],"mappings":";;;;;;;;;AAeA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;IACMA,oB;;;;;;;;;;;;;;;;UAaJC,Y,GAAe,YAAM;AACnB,UAAI,CAACC,mBAAEC,UAAF,CAAa,MAAKC,KAAL,CAAWC,QAAxB,CAAL,EAAwC;;AACxC,YAAKD,KAAL,CAAWC,QAAX;AACD,K;;;;;;;6BAEQ;AACP,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACG,KAAKC,WAAL,EADH,EAEG,KAAKC,gBAAL,EAFH,EAGG,KAAKC,aAAL,EAHH,CADF;AAOD;;;uCAEkB;AACjB,UAAMC,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMC,UAAU,GAAGD,SAAS,CAACC,UAA7B;AACA,UAAI,CAACA,UAAL,EAAiB,OAAO,IAAP;AACjB,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE,gCAAC,yBAAD;AAAU,QAAA,OAAO,EAAE,GAAnB;AAAwB,QAAA,MAAM;AAA9B,+BADF,CADF;AAOD;;;kCAEa;AACZ,UAAMD,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMC,UAAU,GAAGD,SAAS,CAACC,UAA7B;AACA,UAAIA,UAAJ,EAAgB,OAAO,IAAP;AAEhB,UAAI,CAACD,SAAS,CAACE,QAAf,EAAyB,OAAO,IAAP;AACzB,0BAAO,gCAAC,oBAAD;AAAU,QAAA,KAAK,EAAEF,SAAS,CAACG,KAA3B;AAAkC,QAAA,SAAS,EAAC,QAA5C;AAAqD,QAAA,QAAQ,EAAE,KAAKX;AAApE,QAAP;AACD;;;oCAEe;AACd,UAAMQ,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMI,KAAK,GAAG,KAAKA,KAAnB;AACA,UAAMH,UAAU,GAAGD,SAAS,CAACC,UAA7B;AAEA,UAAIA,UAAJ,EAAgB,OAAO,IAAP;AAChB,UAAID,SAAS,CAACE,QAAd,EAAwB,OAAO,IAAP;AAExB,0BAAO,gCAAC,8BAAD;AAAoB,QAAA,KAAK,EAAEE,KAA3B;AAAkC,QAAA,QAAQ,EAAE,KAAKZ;AAAjD,QAAP;AACD;;;wBA1DW;AACV,aAAO,KAAKG,KAAL,CAAWS,KAAlB;AACD;;;wBAEe;AACd,aAAO,KAAKT,KAAL,CAAWK,SAAlB;AACD;;;wBAEc;AACb,aAAO,KAAKA,SAAL,CAAeK,QAAtB;AACD;;;;EAXgCC,kBAAMC,S,GA8DzC;;;AACA,oBAAShB,oBAAT,EAA+B;AAC7Ba,EAAAA,KAAK,EAAEI,cADsB;AAE7BR,EAAAA,SAAS,EAAEQ,cAFkB;AAG7BH,EAAAA,QAAQ,EAAEG,cAHmB;AAI7BhB,EAAAA,YAAY,EAAEiB;AAJe,CAA/B;;eAOe,yBAAS,gCAAW,yBAASlB,oBAAT,CAAX,CAAT,C","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport React from 'react';\nimport { decorate, computed, action } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport { withRouter } from 'react-router-dom';\nimport { Progress } from 'semantic-ui-react';\n\nimport ErrorBox from '@aws-ee/base-ui/dist/parts/helpers/ErrorBox';\n\nimport StudyStatusMessage from './StudyStatusMessage';\n\n// expected props\n// - onCancel (via props) a call back function when the user clicks on Done\n// - study (via props)\n// - operation (via props)\nclass StudyConnectionPanel extends React.Component {\n  get study() {\n    return this.props.study;\n  }\n\n  get operation() {\n    return this.props.operation;\n  }\n\n  get progress() {\n    return this.operation.progress;\n  }\n\n  handleCancel = () => {\n    if (!_.isFunction(this.props.onCancel)) return;\n    this.props.onCancel();\n  };\n\n  render() {\n    return (\n      <div className=\"mt2 mb2 animated fadeIn\">\n        {this.renderError()}\n        {this.renderProcessing()}\n        {this.renderMessage()}\n      </div>\n    );\n  }\n\n  renderProcessing() {\n    const operation = this.operation;\n    const processing = operation.processing;\n    if (!processing) return null;\n    return (\n      <div className=\"mb3\">\n        <Progress percent={100} active>\n          Checking Connection\n        </Progress>\n      </div>\n    );\n  }\n\n  renderError() {\n    const operation = this.operation;\n    const processing = operation.processing;\n    if (processing) return null;\n\n    if (!operation.hasError) return null;\n    return <ErrorBox error={operation.error} className=\"p0 mb2\" onCancel={this.handleCancel} />;\n  }\n\n  renderMessage() {\n    const operation = this.operation;\n    const study = this.study;\n    const processing = operation.processing;\n\n    if (processing) return null;\n    if (operation.hasError) return null;\n\n    return <StudyStatusMessage study={study} onCancel={this.handleCancel} />;\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(StudyConnectionPanel, {\n  study: computed,\n  operation: computed,\n  progress: computed,\n  handleCancel: action,\n});\n\nexport default inject()(withRouter(observer(StudyConnectionPanel)));\n"],"file":"StudyConnectionPanel.js"}