{"version":3,"sources":["../../../src/parts/environments/EnvironmentConnectButton.js"],"names":["EnvironmentConnectButton","getUrl","environment","instanceInfo","type","getEnvironmentNotebookUrl","user","AuthorizedUrl","JupyterUrl","handleConnectClick","event","preventDefault","stopPropagation","newTab","window","open","props","url","location","setFetchingUrl","As","as","userStore","React","Component","computed","action"],"mappings":";;;;;;;AAeA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,wB;;;;;;;;;;;;;;;;UACJC,M;yEAAS,iBAAMC,WAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BACCA,WAAW,CAACC,YAAZ,CAAyBC,IAD1B;AAAA,gDAEA,WAFA,uBAMA,KANA;AAAA;;AAAA;AAAA;AAAA,uBAG6BF,WAAW,CAACG,yBAAZ,CAAsC,MAAKC,IAA3C,CAH7B;;AAAA;AAAA;AAGKC,gBAAAA,aAHL,yBAGKA,aAHL;AAAA,2DAIOA,aAJP;;AAAA;AAAA,iDAOIL,WAAW,CAACC,YAAZ,CAAyBK,UAP7B;;AAAA;AAAA,iDASI,EATJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAaTC,kB;0EAAqB,kBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBA,gBAAAA,KAAK,CAACC,cAAN;AACAD,gBAAAA,KAAK,CAACE,eAAN;AACMC,gBAAAA,MAHa,GAGJC,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA2B,QAA3B,CAHI;AAKbb,gBAAAA,WALa,GAKC,MAAKc,KAAL,CAAWd,WALZ;AAAA;AAAA,uBAOD,MAAKD,MAAL,CAAYC,WAAZ,CAPC;;AAAA;AAObe,gBAAAA,GAPa;AAQnB;AACAJ,gBAAAA,MAAM,CAACK,QAAP,GAAkBD,GAAlB;AACAf,gBAAAA,WAAW,CAACiB,cAAZ,CAA2B,KAA3B;;AAVmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;6BAaZ;AAAA,wBACoD,KAAKH,KADzD;AAAA,UACKI,EADL,eACCC,EADD;AAAA,UACSC,SADT,eACSA,SADT;AAAA,UACoBhB,IADpB,eACoBA,IADpB;AAAA,UAC0BJ,WAD1B,eAC0BA,WAD1B;AAAA,UAC0Cc,KAD1C;;AAEP,0BAAO,gCAAC,EAAD;AAAI,QAAA,OAAO,EAAE,KAAKP;AAAlB,SAA0CO,KAA1C,EAAP;AACD;;;wBAEU;AACT,aAAO,KAAKA,KAAL,CAAWV,IAAX,IAAmB,KAAKU,KAAL,CAAWM,SAAX,CAAqBhB,IAA/C;AACD;;;;EAlCoCiB,kBAAMC,S,GAoC7C;;;AACA,oBAASxB,wBAAT,EAAmC;AACjCM,EAAAA,IAAI,EAAEmB,cAD2B;AAEjChB,EAAAA,kBAAkB,EAAEiB,YAFa;AAGjCzB,EAAAA,MAAM,EAAEyB;AAHyB,CAAnC;;eAMe,uBAAO,WAAP,EAAoB,yBAAS1B,wBAAT,CAApB,C","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { action, computed, decorate } from 'mobx';\n\nclass EnvironmentConnectButton extends React.Component {\n  getUrl = async environment => {\n    switch (environment.instanceInfo.type) {\n      case 'sagemaker': {\n        const { AuthorizedUrl } = await environment.getEnvironmentNotebookUrl(this.user);\n        return `${AuthorizedUrl}&view=lab`;\n      }\n      case 'emr':\n        return environment.instanceInfo.JupyterUrl;\n      default:\n        return '';\n    }\n  };\n\n  handleConnectClick = async event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const newTab = window.open('about:blank', '_blank');\n\n    const environment = this.props.environment;\n\n    const url = await this.getUrl(environment);\n    // Change to the notebook\n    newTab.location = url;\n    environment.setFetchingUrl(false);\n  };\n\n  render() {\n    const { as: As, userStore, user, environment, ...props } = this.props;\n    return <As onClick={this.handleConnectClick} {...props} />;\n  }\n\n  get user() {\n    return this.props.user || this.props.userStore.user;\n  }\n}\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(EnvironmentConnectButton, {\n  user: computed,\n  handleConnectClick: action,\n  getUrl: action,\n});\n\nexport default inject('userStore')(observer(EnvironmentConnectButton));\n"],"file":"EnvironmentConnectButton.js"}