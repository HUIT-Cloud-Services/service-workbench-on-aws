{"version":3,"sources":["../../../src/models/projects/ProjectStore.js"],"names":["ProjectStore","BaseStore","named","props","projectId","tickPeriod","actions","self","superCleanup","cleanup","doLoad","parent","rawProject","map","item","addProject","views","project","w","getProject"],"mappings":";;;;;;;AAeA;;AACA;;AAEA;;;;;;AAEA;AACA;AACA;AACA,IAAMA,YAAY,GAAGC,qBAAUC,KAAV,CAAgB,cAAhB,EAClBC,KADkB,CACZ;AACLC,EAAAA,SAAS,EAAE,EADN;AAELC,EAAAA,UAAU,EAAE,MAAM,IAFb,CAEmB;;AAFnB,CADY,EAMlBC,OANkB,CAMV,UAAAC,IAAI,EAAI;AACf;AACA,MAAMC,YAAY,GAAGD,IAAI,CAACE,OAA1B;AAEA,SAAO;AACCC,IAAAA,MADD,oBACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,gBAAAA,MADO,GACE,8BAAUJ,IAAV,EAAgB,CAAhB,CADF;AAAA;AAAA,uBAEY,qBAAWA,IAAI,CAACH,SAAhB,CAFZ;;AAAA;AAEPQ,gBAAAA,UAFO;AAGbA,gBAAAA,UAAU,CAACC,GAAX,CAAe,UAAAC,IAAI;AAAA,yBAAIH,MAAM,CAACI,UAAP,CAAkBD,IAAlB,CAAJ;AAAA,iBAAnB;;AAHa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAId,KALI;AAOLL,IAAAA,OAAO,EAAE,mBAAM;AACbD,MAAAA,YAAY;AACb;AATI,GAAP;AAWD,CArBkB,EAuBlBQ,KAvBkB,CAuBZ,UAAAT,IAAI;AAAA,SAAK;AACd,QAAIU,OAAJ,GAAc;AACZ,UAAMN,MAAM,GAAG,8BAAUJ,IAAV,EAAgB,CAAhB,CAAf;AACA,UAAMW,CAAC,GAAGP,MAAM,CAACQ,UAAP,CAAkBZ,IAAI,CAACH,SAAvB,CAAV;AACA,aAAOc,CAAP;AACD;;AALa,GAAL;AAAA,CAvBQ,CAArB,C,CA+BA;AACA;AACA","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport { getParent } from 'mobx-state-tree';\nimport { BaseStore } from '@aws-ee/base-ui/dist/models/BaseStore';\n\nimport { getProject } from '../../helpers/api';\n\n// ==================================================================\n// ProjectStore\n// ==================================================================\nconst ProjectStore = BaseStore.named('ProjectStore')\n  .props({\n    projectId: '',\n    tickPeriod: 300 * 1000, // 5 minutes\n  })\n\n  .actions(self => {\n    // save the base implementation of cleanup\n    const superCleanup = self.cleanup;\n\n    return {\n      async doLoad() {\n        const parent = getParent(self, 2);\n        const rawProject = await getProject(self.projectId);\n        rawProject.map(item => parent.addProject(item));\n      },\n\n      cleanup: () => {\n        superCleanup();\n      },\n    };\n  })\n\n  .views(self => ({\n    get project() {\n      const parent = getParent(self, 2);\n      const w = parent.getProject(self.projectId);\n      return w;\n    },\n  }));\n\n// Note: Do NOT register this in the global context, if you want to gain access to an instance\n//       use projectsStore.getProjectStore()\n// eslint-disable-next-line import/prefer-default-export\nexport { ProjectStore };\n"],"file":"ProjectStore.js"}