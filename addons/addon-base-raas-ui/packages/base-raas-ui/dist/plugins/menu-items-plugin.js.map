{"version":3,"sources":["../../src/plugins/menu-items-plugin.js"],"names":["registerMenuItems","itemsMap","location","appContext","isAdmin","_","get","canCreateWorkspaces","canViewDashboard","items","Map","filter","item","title","icon","shouldShow","plugin"],"mappings":";;;;;;;AAeA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,iBAAT,CAA2BC,QAA3B,QAA+D;AAAA,MAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAC7D,MAAMC,OAAO,GAAGC,mBAAEC,GAAF,CAAMH,UAAN,EAAkB,wBAAlB,CAAhB;;AACA,MAAMI,mBAAmB,GAAGF,mBAAEC,GAAF,CAAMH,UAAN,EAAkB,gDAAlB,CAA5B;;AACA,MAAMK,gBAAgB,GAAGH,mBAAEC,GAAF,CAAMH,UAAN,EAAkB,8CAAlB,CAAzB;;AACA,MAAMM,KAAK,GAAG,IAAIC,GAAJ,8BACTL,mBAAEM,MAAF,oBAAaV,QAAb,GAAwB,UAAAW,IAAI,EAAI;AACjC,QAAIA,IAAI,CAAC,CAAD,CAAJ,KAAY,YAAZ,IAA4B,CAACJ,gBAAjC,EAAmD,OAAO,KAAP;AACnD,WAAO,IAAP;AACD,GAHE,CADS,IAKZ,CAAC,WAAD,EAAc;AAAEK,IAAAA,KAAK,EAAE,UAAT;AAAqBC,IAAAA,IAAI,EAAE,SAA3B;AAAsCC,IAAAA,UAAU,EAAEX;AAAlD,GAAd,CALY,EAMZ,CAAC,UAAD,EAAa;AAAES,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,IAAI,EAAE,MAA1B;AAAkCC,IAAAA,UAAU,EAAE;AAA9C,GAAb,CANY,EAOZ,CAAC,aAAD,EAAgB;AAAEF,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,IAAI,EAAE,QAA7B;AAAuCC,IAAAA,UAAU,EAAER;AAAnD,GAAhB,CAPY,GAAd;AAUA,SAAOE,KAAP;AACD;;AACD,IAAMO,MAAM,GAAG;AACbhB,EAAAA,iBAAiB,EAAjBA;AADa,CAAf;eAGegB,M","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\n/**\n * Adds navigation menu items to the given itemsMap.\n *\n * @param itemsMap A Map containing navigation items. This object is a Map that has route paths (urls) as\n * keys and menu item object with the following shape\n *\n *   {\n *    title: STRING, // Title for the navigation menu item\n *    icon: STRING, // semantic ui icon name fot the navigation menu item\n *    shouldShow: BOOLEAN || FUNCTION, // A flag or a function that returns a flag indicating whether to show the item or not (useful when showing menu items conditionally)\n *    render: OPTIONAL FUNCTION, // Optional function that returns rendered menu item component. Use this ONLY if you want to control full rendering of the menu item.\n *   }\n *\n * @param context A context object containing all various stores\n *\n * @returns Map<*> Returns A Map containing navigation menu items with the same shape as \"itemsMap\"\n */\n// eslint-disable-next-line no-unused-vars\nfunction registerMenuItems(itemsMap, { location, appContext }) {\n  const isAdmin = _.get(appContext, 'userStore.user.isAdmin');\n  const canCreateWorkspaces = _.get(appContext, 'userStore.user.capabilities.canCreateWorkspace');\n  const canViewDashboard = _.get(appContext, 'userStore.user.capabilities.canViewDashboard');\n  const items = new Map([\n    ..._.filter([...itemsMap], item => {\n      if (item[0] === '/dashboard' && !canViewDashboard) return false;\n      return true;\n    }),\n    ['/accounts', { title: 'Accounts', icon: 'sitemap', shouldShow: isAdmin }],\n    ['/studies', { title: 'Studies', icon: 'book', shouldShow: true }],\n    ['/workspaces', { title: 'Workspaces', icon: 'server', shouldShow: canCreateWorkspaces }],\n  ]);\n\n  return items;\n}\nconst plugin = {\n  registerMenuItems,\n};\nexport default plugin;\n"],"file":"menu-items-plugin.js"}