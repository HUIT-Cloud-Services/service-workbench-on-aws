{"version":3,"sources":["../../src/helpers/form.js"],"names":["dvrRules","cidr","validatorFn","value","result","message","formPlugins","baseFormHelper","dvr","validatorjs","extend","validator","Object","keys","forEach","key","register","formOptions","createForm","fields","pluginsParam","optionsParam","plugins","options","MobxReactForm","createSingleFieldForm"],"mappings":";;;;;;;;;;AAeA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAMA,QAAQ,GAAG;AACfC,EAAAA,IAAI,EAAE;AACJC,IAAAA,WAAW,EAAE,qBAAAC,KAAK,EAAI;AACpB,UAAMC,MAAM,GAAG,wBAAOD,KAAP,CAAf;AACA,aAAOC,MAAM,KAAK,CAAX,IAAgBA,MAAM,KAAK,CAAlC;AACD,KAJG;AAKJC,IAAAA,OAAO,EAAE;AALL;AADS,CAAjB,C,CAUA;;AACA,IAAMC,WAAW,qBACZC,cAAc,CAACD,WADH;AAEfE,EAAAA,GAAG,EAAE,qBAAI;AACP,eAASC,uBADF;AAEPC,IAAAA,MAAM,EAAE,sBAAmB;AAAA,UAAhBC,SAAgB,QAAhBA,SAAgB;AACzBC,MAAAA,MAAM,CAACC,IAAP,CAAYb,QAAZ,EAAsBc,OAAtB,CAA8B,UAAAC,GAAG;AAAA,eAAIJ,SAAS,CAACK,QAAV,CAAmBD,GAAnB,EAAwBf,QAAQ,CAACe,GAAD,CAAR,CAAcb,WAAtC,EAAmDF,QAAQ,CAACe,GAAD,CAAR,CAAcV,OAAjE,CAAJ;AAAA,OAAjC;AACD;AAJM,GAAJ;AAFU,EAAjB;;;AAUA,IAAMY,WAAW,GAAGV,cAAc,CAACU,WAAnC;;;AAEA,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,YAA5B,EAA0CC,YAA1C,EAAwD;AACtD,MAAMC,OAAO,GAAGF,YAAY,IAAId,WAAhC;AACA,MAAMiB,OAAO,GAAGF,YAAY,IAAIJ,WAAhC;AACA,SAAO,IAAIO,yBAAJ,CAAkB;AAAEL,IAAAA,MAAM,EAANA;AAAF,GAAlB,EAA8B;AAAEG,IAAAA,OAAO,EAAPA,OAAF;AAAWC,IAAAA,OAAO,EAAPA;AAAX,GAA9B,CAAP;AACD;;AAED,IAAME,qBAAqB,GAAGlB,cAAc,CAACkB,qBAA7C","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport dvr from 'mobx-react-form/lib/validators/DVR';\nimport validatorjs from 'validatorjs';\nimport MobxReactForm from 'mobx-react-form';\nimport isCidr from 'is-cidr';\nimport * as baseFormHelper from '@aws-ee/base-ui/dist/helpers/form';\n\nconst dvrRules = {\n  cidr: {\n    validatorFn: value => {\n      const result = isCidr(value);\n      return result === 4 || result === 6;\n    },\n    message: 'The :attribute is not in the CIDR format.',\n  },\n};\n\n// Extend base formPlugins and add support for \"cidr\" validation rule\nconst formPlugins = {\n  ...baseFormHelper.formPlugins,\n  dvr: dvr({\n    package: validatorjs,\n    extend: ({ validator }) => {\n      Object.keys(dvrRules).forEach(key => validator.register(key, dvrRules[key].validatorFn, dvrRules[key].message));\n    },\n  }),\n};\n\nconst formOptions = baseFormHelper.formOptions;\n\nfunction createForm(fields, pluginsParam, optionsParam) {\n  const plugins = pluginsParam || formPlugins;\n  const options = optionsParam || formOptions;\n  return new MobxReactForm({ fields }, { plugins, options });\n}\n\nconst createSingleFieldForm = baseFormHelper.createSingleFieldForm;\n\nexport { formPlugins, formOptions, createForm, createSingleFieldForm };\n"],"file":"form.js"}