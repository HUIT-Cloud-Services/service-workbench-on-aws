{"version":3,"sources":["../../src/models/Wizard.js"],"names":["Step","types","model","key","string","title","desc","optional","isComplete","actions","self","setComplete","Wizard","steps","array","currentIdx","next","hasNext","previous","hasPrevious","goTo","stepKey","stepIdx","_","findIndex","views","currentStep","length","isStepActive","createWizard","create"],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEA;AACA;AACA;AACA,IAAMA,IAAI,GAAGC,qBACVC,KADU,CACJ,MADI,EACI;AACbC,EAAAA,GAAG,EAAEF,qBAAMG,MADE;AAEbC,EAAAA,KAAK,EAAEJ,qBAAMG,MAFA;AAGbE,EAAAA,IAAI,EAAEL,qBAAMM,QAAN,CAAeN,qBAAMG,MAArB,EAA6B,EAA7B,CAHO;AAIbI,EAAAA,UAAU,EAAE;AAJC,CADJ,EAOVC,OAPU,CAOF,UAAAC,IAAI;AAAA,SAAK;AAChBC,IAAAA,WADgB,uBACJH,UADI,EACQ;AACtBE,MAAAA,IAAI,CAACF,UAAL,GAAkBA,UAAlB;AACD;AAHe,GAAL;AAAA,CAPF,CAAb,C,CAaA;AACA;AACA;;;AACA,IAAMI,MAAM,GAAGX,qBACZC,KADY,CACN,QADM,EACI;AACfW,EAAAA,KAAK,EAAEZ,qBAAMa,KAAN,CAAYd,IAAZ,CADQ;AAEfe,EAAAA,UAAU,EAAE;AAFG,CADJ,EAKZN,OALY,CAKJ,UAAAC,IAAI;AAAA,SAAK;AAChBM,IAAAA,IADgB,kBACT;AACL,UAAIN,IAAI,CAACO,OAAT,EAAkB;AAChBP,QAAAA,IAAI,CAACK,UAAL,IAAmB,CAAnB;AACD;AACF,KALe;AAMhBG,IAAAA,QANgB,sBAML;AACT,UAAIR,IAAI,CAACS,WAAT,EAAsB;AACpBT,QAAAA,IAAI,CAACK,UAAL,IAAmB,CAAnB;AACD;AACF,KAVe;AAWhBK,IAAAA,IAXgB,gBAWXC,OAXW,EAWF;AACZ,UAAMC,OAAO,GAAGC,mBAAEC,SAAF,CAAYd,IAAI,CAACG,KAAjB,EAAwB;AAAEV,QAAAA,GAAG,EAAEkB;AAAP,OAAxB,CAAhB;;AACA,UAAIC,OAAO,IAAI,CAAf,EAAkB;AAChBZ,QAAAA,IAAI,CAACK,UAAL,GAAkBO,OAAlB;AACD;AACF;AAhBe,GAAL;AAAA,CALA,EAuBZG,KAvBY,CAuBN,UAAAf,IAAI;AAAA,SAAK;AACd,QAAIgB,WAAJ,GAAkB;AAChB,aAAOhB,IAAI,CAACG,KAAL,CAAWH,IAAI,CAACK,UAAhB,CAAP;AACD,KAHa;;AAId,QAAIE,OAAJ,GAAc;AACZ,aAAOP,IAAI,CAACK,UAAL,GAAkBL,IAAI,CAACG,KAAL,CAAWc,MAAX,GAAoB,CAA7C;AACD,KANa;;AAOd,QAAIR,WAAJ,GAAkB;AAChB,aAAOT,IAAI,CAACK,UAAL,GAAkB,CAAzB;AACD,KATa;;AAWda,IAAAA,YAXc,wBAWDP,OAXC,EAWQ;AACpB,aAAOE,mBAAEC,SAAF,CAAYd,IAAI,CAACG,KAAjB,EAAwB;AAAEV,QAAAA,GAAG,EAAEkB;AAAP,OAAxB,MAA8CX,IAAI,CAACK,UAA1D;AACD;AAba,GAAL;AAAA,CAvBE,CAAf;;;;AAuCA,SAASc,YAAT,CAAsBhB,KAAtB,EAA6C;AAAA,MAAhBE,UAAgB,uEAAH,CAAG;AAC3C,SAAOH,MAAM,CAACkB,MAAP,CAAc;AACnBjB,IAAAA,KAAK,EAALA,KADmB;AAEnBE,IAAAA,UAAU,EAAVA;AAFmB,GAAd,CAAP;AAID;;eAEcH,M","sourcesContent":["import _ from 'lodash';\nimport { types } from 'mobx-state-tree';\n\n// ====================================================================================================================================\n// Step\n// ====================================================================================================================================\nconst Step = types\n  .model('Step', {\n    key: types.string,\n    title: types.string,\n    desc: types.optional(types.string, ''),\n    isComplete: false,\n  })\n  .actions(self => ({\n    setComplete(isComplete) {\n      self.isComplete = isComplete;\n    },\n  }));\n\n// ====================================================================================================================================\n// Wizard\n// ====================================================================================================================================\nconst Wizard = types\n  .model('Wizard', {\n    steps: types.array(Step),\n    currentIdx: 0,\n  })\n  .actions(self => ({\n    next() {\n      if (self.hasNext) {\n        self.currentIdx += 1;\n      }\n    },\n    previous() {\n      if (self.hasPrevious) {\n        self.currentIdx -= 1;\n      }\n    },\n    goTo(stepKey) {\n      const stepIdx = _.findIndex(self.steps, { key: stepKey });\n      if (stepIdx >= 0) {\n        self.currentIdx = stepIdx;\n      }\n    },\n  }))\n  .views(self => ({\n    get currentStep() {\n      return self.steps[self.currentIdx];\n    },\n    get hasNext() {\n      return self.currentIdx < self.steps.length - 1;\n    },\n    get hasPrevious() {\n      return self.currentIdx > 0;\n    },\n\n    isStepActive(stepKey) {\n      return _.findIndex(self.steps, { key: stepKey }) === self.currentIdx;\n    },\n  }));\n\nfunction createWizard(steps, currentIdx = 0) {\n  return Wizard.create({\n    steps,\n    currentIdx,\n  });\n}\n\nexport default Wizard;\nexport { Wizard, createWizard };\n"],"file":"Wizard.js"}