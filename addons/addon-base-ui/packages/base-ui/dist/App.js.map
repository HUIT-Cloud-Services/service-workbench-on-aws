{"version":3,"sources":["../src/App.js"],"names":["App","location","props","appContext","defaultLocation","getDefaultRouteLocation","getMenuItems","getRoutes","renderApp","app","React","Component","computed"],"mappings":";;;;;;;;;AAeA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;IACMA,G;;;;;;;;;;;;;gCAKQ;AAAA,UACFC,QADE,GACW,KAAKC,KADhB,CACFD,QADE;AAEV,UAAME,UAAU,GAAG,KAAKA,UAAxB;AACA,aAAO,4BAAU;AAAEF,QAAAA,QAAQ,EAARA,QAAF;AAAYE,QAAAA,UAAU,EAAVA;AAAZ,OAAV,CAAP;AACD;;;mCAEc;AAAA,UACLF,QADK,GACQ,KAAKC,KADb,CACLD,QADK;AAEb,UAAME,UAAU,GAAG,KAAKA,UAAxB;AACA,aAAO,+BAAa;AAAEF,QAAAA,QAAQ,EAARA,QAAF;AAAYE,QAAAA,UAAU,EAAVA;AAAZ,OAAb,CAAP;AACD;;;8CAEyB;AACxB;AADwB,UAEhBF,QAFgB,GAEH,KAAKC,KAFF,CAEhBD,QAFgB;AAGxB,UAAME,UAAU,GAAG,KAAKA,UAAxB;AAEA,aAAO,0CAAwB;AAAEF,QAAAA,QAAQ,EAARA,QAAF;AAAYE,QAAAA,UAAU,EAAVA;AAAZ,OAAxB,CAAP;AACD;;;gCAEW;AACV,UAAMC,eAAe,GAAG,KAAKC,uBAAL,EAAxB;AACA,0BACE,gCAAC,sBAAD;AAAY,QAAA,SAAS,EAAE,KAAKC,YAAL;AAAvB,sBACE,gCAAC,sBAAD,qBACE,gCAAC,wBAAD;AAAU,QAAA,KAAK,MAAf;AAAgB,QAAA,IAAI,EAAC,GAArB;AAAyB,QAAA,EAAE,EAAEF;AAA7B,QADF,EAEG,KAAKG,SAAL,EAFH,CADF,CADF;AAQD;;;6BAEQ;AACP,aAAO,KAAKC,SAAL,EAAP;AACD;;;wBAtCgB;AACf,aAAO,2BAAO,KAAKN,KAAL,CAAWO,GAAlB,KAA0B,EAAjC;AACD;;;;EAHeC,kBAAMC,S,GA0CxB;;;AACA,oBAASX,GAAT,EAAc;AACZG,EAAAA,UAAU,EAAES;AADA,CAAd;;eAIe,0BAAS,uBAAO,KAAP,EAAc,WAAd,EAA2B,gCAAW,yBAASZ,GAAT,CAAX,CAA3B,CAAT,C","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { decorate, computed } from 'mobx';\nimport { inject, observer } from 'mobx-react';\nimport { getEnv } from 'mobx-state-tree';\nimport { Switch, Redirect, withRouter } from 'react-router-dom';\n\nimport withAuth from './withAuth';\nimport { getRoutes, getMenuItems, getDefaultRouteLocation } from './helpers/plugins-util';\nimport MainLayout from './parts/MainLayout';\n\n// expected props\n// - app model (via injection)\n// - location (from react router)\nclass App extends React.Component {\n  get appContext() {\n    return getEnv(this.props.app) || {};\n  }\n\n  getRoutes() {\n    const { location } = this.props;\n    const appContext = this.appContext;\n    return getRoutes({ location, appContext });\n  }\n\n  getMenuItems() {\n    const { location } = this.props;\n    const appContext = this.appContext;\n    return getMenuItems({ location, appContext });\n  }\n\n  getDefaultRouteLocation() {\n    // See https://reacttraining.com/react-router/web/api/withRouter\n    const { location } = this.props;\n    const appContext = this.appContext;\n\n    return getDefaultRouteLocation({ location, appContext });\n  }\n\n  renderApp() {\n    const defaultLocation = this.getDefaultRouteLocation();\n    return (\n      <MainLayout menuItems={this.getMenuItems()}>\n        <Switch>\n          <Redirect exact from=\"/\" to={defaultLocation} />\n          {this.getRoutes()}\n        </Switch>\n      </MainLayout>\n    );\n  }\n\n  render() {\n    return this.renderApp();\n  }\n}\n\n// see https://medium.com/@mweststrate/mobx-4-better-simpler-faster-smaller-c1fbc08008da\ndecorate(App, {\n  appContext: computed,\n});\n\nexport default withAuth(inject('app', 'userStore')(withRouter(observer(App))));\n"],"file":"App.js"}