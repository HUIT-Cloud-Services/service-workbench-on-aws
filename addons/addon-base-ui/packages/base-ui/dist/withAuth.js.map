{"version":3,"sources":["../src/withAuth.js"],"names":["Wrapper","props","loginComp","Comp","getWrappedCompProps","authenticated","app","content","userAuthenticated","renderAuthenticated","renderLogin","additionalProps","React","Component","WrapperComp","withAuth","component"],"mappings":";;;;;;;;;AAeA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,O;;;;;;;;;;;;;kCACU;AACZ,aAAO,KAAKC,KAAL,CAAWC,SAAlB;AACD;;;0CAEqB;AACpB,UAAMC,IAAI,GAAG,KAAKF,KAAL,CAAWE,IAAxB;AACA,UAAMF,KAAK,GAAG,KAAKG,mBAAL,CAAyB;AAAEC,QAAAA,aAAa,EAAE;AAAjB,OAAzB,CAAd;AACA,0BAAO,gCAAC,IAAD,EAAUJ,KAAV,CAAP;AACD;;;6BAEQ;AACP,UAAMK,GAAG,GAAG,KAAKL,KAAL,CAAWK,GAAvB;AACA,UAAIC,OAAO,GAAG,IAAd;;AAEA,UAAID,GAAG,CAACE,iBAAR,EAA2B;AACzBD,QAAAA,OAAO,GAAG,KAAKE,mBAAL,EAAV;AACD,OAFD,MAEO;AACLF,QAAAA,OAAO,GAAG,KAAKG,WAAL,EAAV;AACD;;AAED,aAAOH,OAAP;AACD,K,CAED;;;;wCACoBI,e,EAAiB;AACnC,UAAMV,KAAK,qBAAQ,KAAKA,KAAb,MAAuBU,eAAvB,CAAX;;AACA,aAAOV,KAAK,CAACE,IAAb;AACA,aAAOF,KAAK,CAACC,SAAb;AACA,aAAOD,KAAP;AACD;;;;EA9BmBW,kBAAMC,S;;AAiC5B,IAAMC,WAAW,GAAG,uBAAO,KAAP,EAAc,QAAd,EAAwB,yBAASd,OAAT,CAAxB,CAApB;;AAEA,SAASe,QAAT,CAAkBZ,IAAlB,EAA+E;AAAA,iFAAvC;AAAED,IAAAA,SAAS,eAAE,gCAAC,iBAAD;AAAb,GAAuC;AAAA,MAArDA,SAAqD,QAArDA,SAAqD;;AAC7E,SAAO,SAASc,SAAT,CAAmBf,KAAnB,EAA0B;AAC/B,wBAAO,gCAAC,WAAD;AAAa,MAAA,IAAI,EAAEE,IAAnB;AAAyB,MAAA,SAAS,EAAED;AAApC,OAAmDD,KAAnD,EAAP;AACD,GAFD;AAGD;;eAEcc,Q","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport DefaultLoginScreen from './parts/Login';\n\nclass Wrapper extends React.Component {\n  renderLogin() {\n    return this.props.loginComp;\n  }\n\n  renderAuthenticated() {\n    const Comp = this.props.Comp;\n    const props = this.getWrappedCompProps({ authenticated: true });\n    return <Comp {...props} />;\n  }\n\n  render() {\n    const app = this.props.app;\n    let content = null;\n\n    if (app.userAuthenticated) {\n      content = this.renderAuthenticated();\n    } else {\n      content = this.renderLogin();\n    }\n\n    return content;\n  }\n\n  // private utility methods\n  getWrappedCompProps(additionalProps) {\n    const props = { ...this.props, ...additionalProps };\n    delete props.Comp;\n    delete props.loginComp;\n    return props;\n  }\n}\n\nconst WrapperComp = inject('app', 'assets')(observer(Wrapper));\n\nfunction withAuth(Comp, { loginComp } = { loginComp: <DefaultLoginScreen /> }) {\n  return function component(props) {\n    return <WrapperComp Comp={Comp} loginComp={loginComp} {...props} />;\n  };\n}\n\nexport default withAuth;\n"],"file":"withAuth.js"}