{"version":3,"sources":["../../src/helpers/notification.js"],"names":["displayError","msg","error","timeOut","toastr","toMessage","toasterErrorOptions","console","_","isError","displayWarning","warning","toasterWarningOptions","displaySuccess","title","success","toasterSuccessOptions","displayFormErrors","form","map","errors","lines","Object","keys","forEach","key","push","length","undefined","isPlural","message","friendly","isArray","messages","size","result","join","isEmpty","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","extendedTimeOut"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport toastr from 'toastr';\n\nfunction displayError(msg, error, timeOut = '20000') {\n  toastr.error(toMessage(msg, error), 'We have a problem!', { ...toasterErrorOptions, timeOut });\n  if (error) console.error(msg, error);\n  if (_.isError(msg)) console.error(msg);\n}\n\nfunction displayWarning(msg, error, timeOut = '20000') {\n  toastr.warning(toMessage(msg, error), 'Warning!', { ...toasterWarningOptions, timeOut });\n  if (error) console.error(msg, error);\n  if (_.isError(msg)) console.error(msg);\n}\n\nfunction displaySuccess(msg, title = 'Submitted!') {\n  toastr.success(toMessage(msg), title, toasterSuccessOptions);\n}\n\nfunction displayFormErrors(form) {\n  const map = form.errors();\n  const lines = [];\n  Object.keys(map).forEach(key => {\n    if (map[key]) lines.push(map[key]);\n  });\n\n  if (lines.length === 0) return displayError('The form submission has a problem.', undefined, 3000);\n  const isPlural = lines.length > 1;\n  const message = `There ${isPlural ? 'are issues' : 'is an issue'} with the form:`;\n  return displayError([message, ...lines], undefined, 3000);\n}\n\nfunction toMessage(msg, error) {\n  if (_.isError(msg)) {\n    return `${msg.message || msg.friendly} <br/>&nbsp;`;\n  }\n\n  if (_.isError(error)) {\n    return `${msg} - ${error.message} <br/>&nbsp;`;\n  }\n\n  if (_.isArray(msg)) {\n    const messages = msg;\n    const size = _.size(messages);\n\n    if (size === 0) {\n      return 'Unknown error <br/>&nbsp;';\n    }\n    if (size === 1) {\n      return `${messages[0]}<br/>&nbsp;`;\n    }\n    const result = [];\n    result.push('<br/>');\n    result.push('<ul>');\n    _.forEach(messages, message => {\n      result.push(`<li style=\"margin-left: -20px;\">${message}</li>`);\n    });\n    result.push('</ul><br/>&nbsp;');\n\n    return result.join('');\n  }\n\n  if (_.isEmpty(msg)) return 'Unknown error <br/>&nbsp;';\n\n  return `${msg} <br/>&nbsp;`;\n}\n\n// For details of options, see https://github.com/CodeSeven/toastr\n//\n// closeButton:       Enable a close button\n// debug:             Emit debug logs to the console\n// newestOnTop:       Show newest toast at top or bottom (top is default)\n// progressBar:       Visually indicate how long before a toast expires\n// positionClass:     CSS position style e.g. toast-top-center, toast-bottom-left\n// preventDuplicates: Prevent identical toasts appearing (based on content)\n// timeOut:           How long the toast will display without user interaction (ms)\n// extendedTimeOut:   How long the toast will display after a user hovers over it (ms)\n\nconst toasterErrorOptions = {\n  closeButton: true,\n  debug: false,\n  newestOnTop: true,\n  progressBar: true,\n  positionClass: 'toast-top-right',\n  preventDuplicates: true,\n  timeOut: '20000', // 1000000\n  extendedTimeOut: '50000', // 1000000\n};\n\nconst toasterWarningOptions = {\n  closeButton: true,\n  debug: false,\n  newestOnTop: true,\n  progressBar: true,\n  positionClass: 'toast-top-right',\n  preventDuplicates: true,\n  timeOut: '20000', // 1000000\n  extendedTimeOut: '50000', // 1000000\n};\n\nconst toasterSuccessOptions = {\n  closeButton: true,\n  debug: false,\n  newestOnTop: true,\n  progressBar: true,\n  positionClass: 'toast-top-right',\n  preventDuplicates: true,\n  timeOut: '3000',\n  extendedTimeOut: '10000',\n};\n\nexport { displayError, displayWarning, displaySuccess, displayFormErrors };\n"],"file":"notification.js"}