{"version":3,"sources":["../../../../src/parts/helpers/fields/SelectionButtons.js"],"names":["Component","field","disabled","show","className","size","options","onChange","id","value","sync","error","extra","mergedOptions","hasError","_","isEmpty","isDisabled","disabledClass","errorClass","handleClick","toAssign","event","preventDefault","stopPropagation","validate","showErrors","headerOrHeaderAndButtons","headerOnly","buttonsOnly","buttons","map","option","text"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport { Button } from 'semantic-ui-react';\nimport c from 'classnames';\n\nimport Header from './Header';\nimport Description from './Description';\nimport ErrorPointer from './ErrorPointer';\n\n// expected props\n// - field (via props), this is the mobx form field object\n// - options (via props), an array of [ {text, value}, {text, value}, ...]\n// - show (via props), can be 'headerOnly', 'buttonsOnly', 'both' (default to 'both')\n// - className (via props)\n// - onChange (via props), a call back function that receives (value, field)\n//\n// The following props are to support existing React Semantic UI props:\n// - disabled (via props), default to false\n// - size (via props), default to tiny\nconst Component = observer(\n  ({ field, disabled = false, show = 'both', className = 'mb4', size = 'tiny', options = [], onChange }) => {\n    const { id, value, sync, error = '', extra = {} } = field;\n    const mergedOptions = [...((extra && extra.options) || []), ...options];\n\n    const hasError = !_.isEmpty(error); // IMPORTANT do NOT use field.hasError\n    const isDisabled = field.disabled || disabled;\n    const disabledClass = isDisabled ? 'disabled' : '';\n    const errorClass = hasError ? 'error' : '';\n    const handleClick = toAssign => event => {\n      event.preventDefault();\n      event.stopPropagation();\n      if (isDisabled) return;\n      sync(toAssign);\n      field.validate({ showErrors: true });\n      if (onChange) onChange(toAssign, field);\n    };\n\n    const headerOrHeaderAndButtons = show === 'both' || show === 'headerOnly';\n    const headerOnly = show === 'headerOnly';\n    const buttonsOnly = show === 'buttonsOnly';\n\n    const buttons = (\n      <Button.Group id={id} size={size}>\n        {_.map(mergedOptions, option => (\n          <Button\n            key={option.value}\n            onClick={handleClick(option.value)}\n            disabled={isDisabled}\n            basic={option.value !== value}\n            color={hasError ? 'red' : 'blue'}\n          >\n            {option.text}\n          </Button>\n        ))}\n      </Button.Group>\n    );\n\n    return (\n      <div className={c(className, errorClass, disabledClass)}>\n        {headerOrHeaderAndButtons && (\n          <>\n            <div className=\"flex flex-wrap mb1\">\n              <Header field={field} className=\"mt1 mb0 mr2\" />\n              {!headerOnly && (\n                <div className=\"flex-auto\">\n                  <div>{buttons}</div>\n                  <ErrorPointer field={field} />\n                </div>\n              )}\n            </div>\n            <Description field={field} />\n          </>\n        )}\n        {buttonsOnly && buttons}\n      </div>\n    );\n  },\n);\n\nexport default Component;\n"],"file":"SelectionButtons.js"}