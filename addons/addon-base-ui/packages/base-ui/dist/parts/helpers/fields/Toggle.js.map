{"version":3,"sources":["../../../../src/parts/helpers/fields/Toggle.js"],"names":["Component","field","disabled","show","className","size","id","value","sync","error","extra","yesLabel","noLabel","hasError","_","isEmpty","isDisabled","disabledClass","errorClass","yesSelected","isBoolean","cursor","handleClick","toAssign","event","preventDefault","stopPropagation","validate","showErrors","yesAttributes","name","color","noAttributes","headerOrHeaderAndToggle","headerOnly","toggleOnly","toggleButton"],"mappings":"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","sourcesContent":["/*\n *  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\").\n *  You may not use this file except in compliance with the License.\n *  A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n *  or in the \"license\" file accompanying this file. This file is distributed\n *  on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *  express or implied. See the License for the specific language governing\n *  permissions and limitations under the License.\n */\n\nimport _ from 'lodash';\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport { Icon } from 'semantic-ui-react';\nimport c from 'classnames';\n\nimport Header from './Header';\nimport Description from './Description';\nimport ErrorPointer from './ErrorPointer';\n\n// expected props\n// - form (via props)\n// - field (via props), this is the mobx form field object\n// - show (via props), can be 'headerOnly', 'toggleOnly', 'both' (default to 'both')\n// - className (via props)\n//\n// The following props are to support existing React Semantic UI props:\n// - disabled (via props), default to false\n// - size (via props), default to large\nconst Component = observer(({ field, disabled = false, show = 'both', className = 'mb4', size = 'large' }) => {\n  const { id, value, sync, error = '', extra = {} } = field;\n  const { yesLabel = 'Yes', noLabel = 'No' } = extra || {};\n  const hasError = !_.isEmpty(error); // IMPORTANT do NOT use field.hasError\n  const isDisabled = field.disabled || disabled;\n  const disabledClass = isDisabled ? 'disabled' : '';\n  const errorClass = hasError ? 'error' : '';\n  const yesSelected = (_.isBoolean(value) && value === true) || value === 'true';\n  const cursor = isDisabled ? 'op-3' : 'cursor-pointer';\n  const handleClick = toAssign => event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (isDisabled) return;\n    sync(toAssign);\n    field.validate({ showErrors: true });\n  };\n\n  const yesAttributes = {\n    name: 'toggle on',\n    color: hasError ? 'red' : 'blue',\n    size,\n    className: 'mr1',\n    disabled: isDisabled,\n  };\n  const noAttributes = {\n    name: 'toggle off',\n    color: hasError ? 'red' : 'grey',\n    size,\n    className: 'mr1',\n    disabled: isDisabled,\n  };\n\n  const headerOrHeaderAndToggle = show === 'both' || show === 'headerOnly';\n  const headerOnly = show === 'headerOnly';\n  const toggleOnly = show === 'toggleOnly';\n\n  const toggleButton = (\n    <div className={c(hasError ? 'color-red' : '')}>\n      {yesSelected && (\n        <span id={id} className={c(cursor)} onClick={handleClick(false)}>\n          <Icon {...yesAttributes} />\n          {yesLabel}\n        </span>\n      )}\n      {!yesSelected && (\n        <span id={id} className={c('op-65', cursor)} onClick={handleClick(true)}>\n          <Icon {...noAttributes} />\n          {noLabel}\n        </span>\n      )}\n    </div>\n  );\n\n  return (\n    <div className={c(className, errorClass, disabledClass)}>\n      {headerOrHeaderAndToggle && (\n        <>\n          <div className=\"flex flex-wrap mb1\">\n            <Header field={field} className=\"mt0 mb0 mr2\" />\n            {!headerOnly && toggleButton}\n          </div>\n          <Description field={field} />\n          <ErrorPointer field={field} />\n        </>\n      )}\n      {toggleOnly && toggleButton}\n    </div>\n  );\n});\n\nexport default Component;\n"],"file":"Toggle.js"}